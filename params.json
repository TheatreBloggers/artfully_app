{"name":"Artfully Open Source Edition","tagline":"","body":"# Artful.ly Open Source Edition\r\n\r\nVersion 1.1.0.rc1\r\n\r\nAn Open-source application to run your arts organization.  Features include:\r\n\r\n* Free and paid ticketing on the web\r\n* Discount codes\r\n* Patron tracking\r\n* Patron importing and exporting\r\n* Order tracking, importing, and exporting\r\n* Door lists\r\n* Box office for in-person sales\r\n* Advanced patron searching\r\n\r\nAnd coming soon...\r\n\r\n* [Mailchimp](http://mailchimp.com) integration\r\n* Completely re-designed person record interface.\r\n* Memberships\r\n* Flex-passes\r\n\r\n# About\r\n\r\nCreating your own Artful.ly OSE installation requires a basic understanding of Git, Heroku, Ruby and Rails.\r\n\r\n**If you don't know what any of that means** then you probably want our [hosted event ticketing version of Artful.ly](http://www.artful.ly)\r\n\r\n## Dependencies\r\n\r\nYou'll need the following apps/services to use Artful.ly OSE\r\n\r\n* [Solr](http://lucene.apache.org/solr/)\r\n* [MySQL](http://www.mysql.com)\r\n* [Braintree](https://www.braintreepayments.com)\r\n* [S3](http://aws.amazon.com/s3/)\r\n\r\n## Prerequisites\r\n\r\nMake sure you have the following installed on your system\r\n\r\n* [Ruby](http://www.ruby-lang.org)\r\n* [Rubygems](http://docs.rubygems.org/read/chapter/3/)\r\n* [Rails 3.2](http://rubyonrails.org/)\r\n* [Heroku cli](https://github.com/heroku/heroku/)\r\n* [Git](http://git-scm.com/)\r\n\r\nAlso, before you begin you should set up your production MySQL database.\r\n\r\n## Clone the app \r\n\r\n### For the most recent stable release\r\n\r\n    git clone 1.0.0-stable git@github.com:fracturedatlas/artfully_app.git\r\n    cd artfully_app\r\n\r\n### For the edge release\r\n\r\nEvery effort is made to ensure that master is working correctly but at any time it may be broken.  If you're interested in contributing, testing pre-releases, etc, pull down master and work from there.\r\n\r\n    git clone git@github.com:fracturedatlas/artfully_app.git\r\n    cd artfully_app\r\n\r\n### Setup\r\n\r\n    gem install foreman\r\n    bundle install\r\n\r\n## Database\r\n\r\nUpdate database.yml to point to your mysql database.  Specify a local database and a production database. You can create your databases like so:\r\n\r\n    rake db:create:all\r\n\r\nRun the migrations\r\n\r\n    rake artfully_ose_engine:install:migrations\r\n    rake db:migrate\r\n\r\n## Running Locally\r\n\r\nIf you intend to do any custom development or testing, go ahead and set up Artful.ly OSE locally on your machine.  If you have no interest in this, feel free to skip ahead to Deployment to Heroku\r\n    \r\nOpen a rails console with `rails console` and run\r\n\r\n    User.create!({:email => \"youradmin@example.com\", :password => \"your_strong_password\", :password_confirmation => \"your_strong_password\" })\r\n    \r\n### Turn on the local server\r\n\r\n    foreman start\r\n    \r\nOpen `http://localhost:5000` in a browser\r\n\r\n### Environment\r\n\r\nArtful.ly OSE requires the following environment variables to be set if they aren't explicitly set in `config/environment.rb`\r\n\r\n    BRAINTREE_MERCHANT_ID\r\n    BRAINTREE_PUBLIC_KEY\r\n    BRAINTREE_PRIVATE_KEY\r\n\r\n    S3_BUCKET\r\n    S3_ACCESS_KEY_ID\r\n    S3_SECRET_ACCESS_KEY\r\n    \r\n    WEBSOLR_URL\r\n\r\nAdditionally these are defaulted in the config.ru and config/unicorn.rb files but can be set in the environment as well\r\n    UNICORN_WORKERS\r\n    UNICORN_TIMEOUT\r\n    UNICORN_BACKLOG\r\n    MAX_REQUEST_MIN *used by unicorn killer*\r\n    MAX_REQUEST_MAX *used by unicorn killer*\r\n    OOM_MIN *used by unicorn killer*\r\n    OOM_MAX *used by unicorn killer*\r\n\r\n## Deployment to Heroku\r\n\r\n### About delayed_job\r\n\r\nArtful.ly OSE ships with `delayed_job` disabled.  If you do have a Heroku worker turned on, you'll want to enable delayed_jobs.\r\n\r\nTo enable `delayed_job`, in `config/application.rb` change this line to read\r\n\r\n    Delayed::Worker.delay_jobs = true\r\n    \r\n__Please note__ that Artful.ly OSE depends on delayed jobs for locking tickets while a patron is checking out.  Leaving delayed jobs disabled prevents tickets from being locked.  Checkout will still work, but tickets will not be reserved for a patron while he/she is checking out.\r\n\r\n### Sending email\r\n\r\nArtful.ly OSE __WILL NOT PROCESS TRANSACTIONS WITHOUT A VALID SMTP SETUP__ We will make this more flexible in a future release.\r\n\r\nA good option is to enable SendGrid.  SendGrid has a free usage tier which integrates with Heroku.  See the note in `Setup SendGrid` to enable SendGrid.  Artful.ly OSE will work with SendGrid without any modification necessary.\r\n\r\nOtherwise, you'll need to specify your smtp settings in `config/environments/production.rb` under `config.action_mailer.smtp_settings`\r\n\r\nFinaly, regardless of smtp provider, __YOU MUST__ edit the file `config/environments/production.rb` and change the value of `config.action_mailer.default_url_options` to match your hostname.\r\n\r\n    config.action_mailer.default_url_options={:host => 'myapp.herokuapp.com'}\r\n    \r\nor if you own your own domain\r\n    \r\n    config.action_mailer.default_url_options={:host => 'www.myexampletheater.com'}\r\n\r\n### Push \r\n\r\nFollow the [Heroku instructions](https://devcenter.heroku.com/articles/creating-apps) for creating an app\r\n\r\n    heroku apps:create myapp\r\n    git add .\r\n    git commit -m \"Prepping push to Heroku\"\r\n    git push heroku master\r\n    \r\n### Setup SendGrid (Optional)\r\n\r\nIf you're using SendGrid to send email, enable the starter plan with the following command:\r\n\r\n    heroku addons:add sendgrid:starter\r\n\r\nSee the [SendGrid documentation](https://addons.heroku.com/sendgrid) for more information.\r\n\r\n### Setup the production database\r\n\r\nBefore running this, you must have setup and configured a MySQL database.  If you database is on Amazon's RDS, you'll have to enable that plugin on Heroku by running\r\n\r\n    heroku addons:add amazon_rds\r\n    heroku config:add DATABASE_URL=mysql2://username:password@url.ofyourdatabase.com/databaseName\r\n\r\nOtherwise, make sure you have edited, committed, and pushed your database.yml file\r\n\r\n    heroku run bundle exec rake db:migrate\r\n    \r\nPlease note that you must first have run and committed `bundle exec rake artfully_ose_engine:install:migrations` from the above steps\r\n\r\n### Set environment variables\r\n\r\nIf you didn't set environment variables in `config/environment.rb`, you'll need to set them on the heroku command line.  Run this command for each environment variable listed in \"Environment\"\r\n    \r\n    heroku config:add BRAINTREE_MERCHANT_ID='...'\r\n    \r\nIf you have a Google Analytics account, you can set the environment variables `GA_ACCOUNT` and `GA_DOMAIN` to enable Google Analytics in Artful.ly OSE.\r\n\r\n### Create your first user\r\n\r\nThis user will be the organization administrator.  In a Heroku console, run\r\n\r\n    User.create!({:email => \"youradmin@example.com\", :password => \"your_strong_password\", :password_confirmation => \"your_strong_password\" })\r\n\r\n### Restart the app\r\n\r\n    heroku restart\r\n  \r\n### Load your application\r\n\r\nGo to `http://myapp.herokuapp.com` in a web browser\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}